EXPLAIN SELECT * FROM films WHERE title = 'test';

-- 10 000 строк
-- +------------------------------------------------------+
-- |QUERY PLAN                                            |
-- +------------------------------------------------------+
-- |Seq Scan on films  (cost=0.00..259.00 rows=1 width=78)|
-- |  Filter: ((title)::text = 'test'::text)              |
-- +------------------------------------------------------+

-- 10 000 000 строк
-- +-------------------------------------------------------------------------------+
-- |QUERY PLAN                                                                     |
-- +-------------------------------------------------------------------------------+
-- |Gather  (cost=1000.00..186602.65 rows=1 width=78)                              |
-- |  Workers Planned: 2                                                           |
-- |  ->  Parallel Seq Scan on films  (cost=0.00..185602.55 rows=1 width=78)       |
-- |        Filter: ((title)::text = 'test'::text)                                 |
-- +-------------------------------------------------------------------------------+

-- Оптимизация
CREATE INDEX films_title_index ON films(title);

-- 10 000 000 строк после оптимизации
-- +------------------------------------------------------------------------+
-- |QUERY PLAN                                                              |
-- +------------------------------------------------------------------------+
-- |Index Scan using films_title on films  (cost=0.56..8.58 rows=1 width=78)|
-- |  Index Cond: ((title)::text = 'test'::text)                            |
-- +------------------------------------------------------------------------+
