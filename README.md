# Test cases

## Модульные тесты

Позитивные тесты возвращают 200.

Негативные тесты возвращают 400 с сообщением об ошибке.

1. **card_number:**
    1. Позитивные тесты:
        1. Содержит 16 цифр;
        2. Тип данных _int_ или _string_;
    2. Негативные тесты:
        1. Пустое значение;
        2. Содержит более или менее 16 цифр;
        3. Тип данных не _int_ или не _string_;
2. **card_holder:**
    1. Позитивные тесты:
        1. Содержит пробелы;
        2. Содержит только латиницу;
        3. Тип данных _string_;
    2. Негативные тесты:
        1. Пустое значение;
        2. Не содержит пробелов;
        3. Содержит не латиницу;
        4. Тип данных не _string_;
3. **card_expiration:**
    1. Позитивные тесты:
        1. Длина строки 5 символов;
        2. Третий символ "/";
        3. Первые два символа являются числом;
        4. Последние два символа являются числом;
        5. Первые два символа больше 0;
        6. Первые два символа меньше 12;
        7. Тип данных _string_;
    2. Негативные тесты:
        1. Пустое значение;
        2. Длина строки более или менее 5 символов;
        3. Третий символ не "/";
        4. Первые два символа не являются числом;
        5. Последние два символа не являются числом;
        6. Первые два символа = "00";
        7. Первые два символа больше 12;
        8. Тип данных не _string_;
4. **cvv:**
    1. Позитивные тесты:
        1. Содержит 3 цифры;
        2. Тип данных _int_ или _string_;
    2. Негативные тесты:
        1. Пустое значение;
        2. Содержит более или менее 3 цифр;
        3. Тип данных не _int_ или не _string_;
5. **order_number:**
    1. Позитивные тесты:
        1. Содержит 16 или менее цифр;
        2. Тип данных _int_ или _string_;
    2. Негативные тесты:
        1. Пустое значение;
        2. Содержит более 16 цифр;
        3. Тип данных не _int_ или не _string_;
6. **sum:**
    1. Позитивные тесты:
        1. Содержит число;
        2. Содержит число с запятой;
        3. Тип данных _string_;
    2. Негативные тесты:
        1. Пустое значение;
        2. Содержит символ, не являющийся числом или запятой;
        3. Содержит несколько запятых;
        4. Тип данных не _string_;

## Интеграционные тесты

1. Проверяем связку "фронт - бэк":
    1. Позитивные тесты:
        1. Данные валидны. После получения ответа от бэка на фронте поля выделяются зеленой рамкой;
    2. Негативные тесты:
        1. Данные невалидны. После получения ответа от бэка на фронте поля выделяются красной рамкой;
2. Проверяем связку "бэк - сервис А":
    1. Позитивные тесты:
        1. Сервис А вернул 200. Создаём запись в БД;
    2. Негативные тесты:
        1. Сервис А вернул 403. Сообщаем фронту об ошибке;
3. Проверяем связку "бэк - репозиторий":
    1. Позитивные тесты:
        1. Метод репозитория вернул true. Сообщаем фронту об успехе;
    2. Негативные тесты:
        1. БД недоступна. Выбрасываем исключение;
        2. Метод репозитория вернул false. Выбрасываем исключение;

## Системные тесты

1. Позитивные тесты:
    1. Заполняем форму валидными данными. Получаем сообщение об успехе;
2. Негативные тесты:
    1. Заполняем форму невалидными данными. Поля с невалиднными данными выделяются красной рамкой;
    2. Заполняем форму валидными, но не существующими данными. Получаем ответ о некорректности данных;

## Способы удешевления тестирования

- Поставить заглушку на БД;
- Поставить заглушку на сервис А.