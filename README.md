# Браузерное приложение и балансировщик

## Цель:

Учимся писать приложения. До того, как изучить принципы написания хорошего ПО, нужно прочувствовать, где и какие есть пробелы в знаниях.

Заодно - научиться работать с новыми для себя технологиями.

Учимся балансировать нагрузку.

## Описание/Пошаговая инструкция выполнения домашнего задания:

Необходимо создать свой пакет.

В pull-request прислать composer.json, в котором приводится пример подключения вашего пакета.

## Критерии оценки:
1. Верификация строки со скобками 
   
    Используя Docker, вы описали сборку двух контейнеров – один с nginx, второй – с php-fpm и вашим кодом.
   Используя docker-compose вы запускаете оба контейнера.
   Контейнер с nginx пробрасывает 80 порт на вашу хостовую машину и ожидает соединений.
   Клиент соединяется, и шлёт следующий HTTP-запрос:
   POST / HTTP/1.1
   string=(()()()()))((((()()()))(()()()(((()))))))
   String - это POST-параметр, который можно проверять:

2. На непустоту
3. На корректность кол-ва открытых и закрытых скобок
      Все запросы с динамическим содержимым (*.php) nginx, используя директиву fastcgi_pass, проксирует в контейнер с php-fpm и вашим кодом.
      Nginx должен обрабатывать запросы не обращая внимания на директиву Host. После обработки,
      • если строка корректна, то пользователю возвращается ответ 200 OK, с информационным текстом, что всё хорошо;
      • если строка некорректна, то пользователю возвращается ответ 400 Bad Request, с информационным текстом, что всё плохо.
      
4. Создать балансируемый кластер
      
5. Балансировщик nginx-upstream
      
6. Балансируемые бэкенды на nginx (у каждого свой php-fpm, в идеале - можно запрашивать любой доступный fpm)
      
7. Подключите к обоим контейнерам fpm контейнер с Memcache
      
8. Если у Вас есть балансировка, стандартными сессиями уже не обойтись. Иначе не будет работать аутентификация. Переведите хранение сессий в него
      
9. Усложнённая задача для тех, кто хочет проверить свои силы
      
10. Объедините оба Memcache в кластер. Можно использовать Repcached

## Запуск

Сборка и запуск контейнера

```bash
$ docker compose build
$ docker compose up -d
$ docker compose exec php1 composer install
```