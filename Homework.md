1. Модульные тесты:

   - Если card_holder содержит:  
     - не латинские буквы,  
     - больше одного пробела,  
     - цифры,  
     - символы,
     то возвращаем http-код 400 с сообщением об ошибке;
   - Если card_holder содержит:
     - латинские буквы,
     - один пробел,
     - и/или один дефис,
   то валидация успешна, данные "пропускаем" в контроллер  

   - Если card_expiration содержит:
     - буквы,
     - символы кроме /,
     - год не соответствует белому списку допустимых годов,
     - месяц 0 или 13 и больше,
     то возвращаем http-код 400 с сообщением об ошибке
     - Если card_expiration содержит:
       - дату в формате мм/гг,
     то валидация успешна, данные "пропукаем" в контроллер

   - Если cvv содержит:
     - буквы,
     - любые символы,
     - три нуля подряд,
   то возвращаем http-код 400 с сообщением об ошибке
   - Если cvv содержит:
     - три цифры
   то валидация успешна, данные "пропускаем" в контроллер

   - Если card_number содержит:
     - буквы,
     - символы,
     - больше 16 цифр,
     - меньше 16 цифр,
     - только 16 нулей,
   то возвращаем http-код 400 с сообщением об ошибке
   - Если card_number содержит:
     - 16 разных цифр,
   то валидация успешна, данные "пропускаем" в контроллер

   - Если order_number содержит:
      - буквы,
      - символы,
      - больше 16 цифр,
      - только нули,
   то возвращаем http-код 400 с сообщением об ошибке
   - Если order_number содержит:
      - от 1 до 16 разных цифр,
   то валидация успешна, данные "пропускаем" в контроллер

   - Если sum содержит:
     - числа (тип integer),
     - буквы,
     - символы, кроме запятой,
   то возвращаем http-код 400 с сообщением об ошибке
   - Если sum содержит:
     - строку из двух чисел/цифр, разделенных запятой
   то валидация успешна, данные "пропускаем" в контроллер

   - Если с фронта передана не строка - возвращаем 400 с сообщением об ошибке валидации;

   - -Если не валидный JSON (неверная структура как самого JSON, так и отсутствие нужных параметров/параметры пусты) - возвращаем 400 с сообщением об ошибке;

2. Интеграционные тесты:
   2.1. Проверяем связку «фронт-бэк»:
   - При наличии возможности проверить HTML код на наличие форм/кнопок для вводимых данных.
   - Если card_holder, card_expiration, cvv, card_number, order_number, sum содержат хоть одну ошибку валидации, то поле соответствующего параметра выделяется красной рамкой. Под рамкой выводится сообщение об ошибке.
   - Если ошибок нет, на фронт отправляем сообщение об успешной операции.

   2.2. Проверяем связку "бэк-репозиторий":
   - Healthcheck - простой тест (запись правильных, но произвольных данных и последующее их удаление), что БД поднята и есть подключение к бэкенду.
   - Предварительно создаем неоплаченный заказ и передаем в метод setOrderIsPaid правильные данные - убеждаемся что статус заказа и сумма обновляются.
   - Предварително создаем неоплаченный заказ и передаем:
     - неверный тип для переменной $orderNumber - получаем Exception с сообщением об ошибке в $oderNumber,
     - неверный тип для переменной $sum - получаем Exception с сообщением об ошибке в $sum.
   - Предварително создаем неоплаченный заказ и пытаемся добавить еще один заказ с номером как у ранее созданного заказ - получаем Exception на дублирование уже существующей записи в БД.

   2.3. Проверяем связку "бэк-сервис А":
   - Создаем двойник сервиса А - просто отдельный класс с именем как у сервиса А. В тестовом двойнике:  
     - Проверяем превышение таймаута ожидания ответа от сервиса А - получаем ошибку 400 с сообщением о недоступности сервиса.
     - Поочередно передаем двойнику JSON, но один параметр неверный (card_holder - не верно, card_expiration, cvv, card_number, order_number, sum - верно) - получаем сообщение об ошибке соответсвующего параметра.
     - Проверяем что сервис возвращает 200 если переданы верные данные.

3. Системные тесты:
   - Если cvv неверен, то после получения ответа от бэка на фронте выводится сообщение об ошибке «Не удалось списать данные с карты, проверьте реквизиты».
   - Аналогично проверяем оставшиеся параметры card_holder, card_expiration, card_number, order_number, sum - получаем http-код от сервиса 4хх, выводим сообщение об ошибке (как для cvv).
   - Проверяем реакцию на недоступность сервиса (к примеру меняем url/api сервиса на несуществующий, подменяем url на тестовый сервер с долгим ответом) - получаем http-код 4хх, выводим сообщение о недоступности сервиса.
   - Если у сервиса не предусмотрено режима для разработчиков (фейковая кредитная карта и т.п.), то проверяем оплату с суммой в 1руб.10коп./10 центов(0.1$) - получаем http-код 200, выводим сообщение об успешной оплате.