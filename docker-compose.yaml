version: '3'

services:
  app-server:
    build:
      context: ./fpm
      dockerfile: Dockerfile
    image: chat/php-server
    container_name: app-server
    volumes:
       - ./code:/chat-app
       - ./sock:/sock
    networks:
      - app-network

  app-client:
    build:
      context: ./fpm
      dockerfile: Dockerfile
    image: chat/php-client
    container_name: app-client
    volumes:
       - ./code:/chat-app
       - ./sock:/sock
    networks:
      - app-network

networks:
  app-network:
    driver: bridge
