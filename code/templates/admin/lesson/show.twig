{% extends 'admin/layout.twig' %}
{% block title %}
    TKT-School.Урок
{% endblock %}
{% block body %}

    <div class="col-md-6 col-sm-6 col-xs-12">
        <div class="x_panel">
            <div class="x_title">
                <a href="/admin/course" ><h5 style="display: inline"> Все курсы </h5></a>
                ->  <a href="/admin/course/{{ course.id }}" ><h5 style="display: inline"> {{ course.title }}   </h5> </a>
                ->  <h5 style="display: inline">  {{ title }}   </h5>

                <div class="clearfix"></div>
            </div>
            <div class="x_content">

                <div class="col-md-offset-3" >
                    {% if tasks is empty  %}
                        <p>
                            В данном уроке еще нет заданий.
                        </p>
                    {% endif %}
                </div>
                <div class="col-md-3" style="margin-bottom: 20px">

                    <h4 style="display: inline; font-weight: 700"> Урок  "{{ title }}"   </h4>
                </div>
                <div class="col-md-offset-9" data-roles = "ROLE_TEACHER">

                    <a href="/admin/task/create/{{ id }}"> <h6 style="font-weight: 700"> Добавить задание </h6> </a>
                
                    <div class="clearfix"></div>
                </div>
                <div class="col-md-offset-9" >
                    <div class="clearfix"></div>
                </div>


                <!-- start accordion -->
                <div class="accordion" id="accordion1" role="tablist" aria-multiselectable="true">
                    {% for task in tasks %}
                        <div class="panel">
                                <span style="cursor: pointer" class="panel-heading" role="tab" id="heading{{ task.id }}" data-toggle="collapse" data-parent="#accordion1" href="#collapseOne{{ task.id }}" aria-expanded="false" aria-controls="collapseOne">
                                    <h4 class="panel-title"> {{ task.id }}.  {{ task.title }} </h4>
                                   </span>
                            <div id="collapseOne{{ task.id }}" class="panel-collapse collapse" role="tabpanel" aria-labelledby="heading{{ task.id }}">

                                <div class="panel-body">
                                    <p>
                                        <strong data-roles = "ROLE_TEACHER" ><a href="/admin/task/{{ task.id }}" style="display: inline"> {{ task.title }} </a>  </strong>
                                        <span style="margin-left: 10px" data-roles = "ROLE_TEACHER">
                                              <a href="/admin/task/edit/{{ task.id }}"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> </a>
                                            </span>
                                        <span style="margin-left: 10px" data-roles = "ROLE_TEACHER">
                                             <a data-url = "/admin/task/delete/{{ task.id }}"  onclick="deleteRow(event)"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span> </a>
                                        </span>
                                        {% if 'ROLE_STUDENT' in roles  %}
                                            <span data-roles = "ROLE_STUDENT" ><a href="/admin/task/show/{{ task.id }}" style="display: inline"> {{ task.title }} </a> </span>
                                        {% endif %}
                                    </p>

                                   {{ task.text }}



                                </div>
                            </div>
                        </div>

                    {% endfor %}
                </div>
            </div>
        </div>
    </div>





{% endblock  %}